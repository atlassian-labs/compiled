---
section: 5-API
order: 10
name: 'vanillaCss'
---

# Vanilla CSS

If you would like to use Compiled for a **component library** that does not use React, you can:

- Use keys in the [`cssMap` function call](/api-cssmap) to define your styles. We recommend using one `cssMap` function call per component. Then, you can
- Pass members of the `cssMap` function call into a `vanillaCss` function call, in the place where you want the class names to be applied.

Below is a example for the `vanillaCss` function call:

```tsx
import { cssMap, vanillaCss } from '@compiled/react';

const styles = cssMap({
  base: { color: 'black', border: '1px solid blue' },
  done: {
    color: 'white',
    background: 'green',
    '&:hover': { background: 'pink' },
    '@media (min-width: 100px)': { background: 'blue' },
  },
});

export const myNewDiv = (contentString: string): HTMLDivElement => {
  const state = 'DONE'; // this might be dynamically set

  const taskItem = document.createElement('div');
  taskItem.className = vanillaCss([styles.base, state === 'DONE' && styles.done]) ?? '';
  taskItem.innerText = contentString;
  return taskItem;
};

const Hello = myNewDiv('hello');
document.body.appendChild(Hello);
```

Below is a more complex example showing how `vanillaCss` can be used. This example will be used in the following sections.

```tsx
import { cssMap, vanillaCss } from '@compiled/react';

const someStyles = cssMap({
  danger: {
    color: 'red',
    backgroundColor: 'red',
  },
  success: {
    color: 'green',
    backgroundColor: 'green',
  },
});

function someFunctionCall(_obj) {
  /* some exciting placeholder code here */
}

export const bap = someFunctionCall({
  // node DOM constructor
  toDOM(node) {
    const { localId, state } = node.attrs;
    const attrs = {
      'data-task-local-id': localId || 'local-task',
      'data-task-state': state || 'TODO',
      class: vanillaCss([someStyles.base, state === 'DONE' && someStyles.done]),
    };
    // construct a div node
    return ['div', attrs, 0];
  },
});
```

## Stylesheet extraction turned on

When stylesheet extraction is **turned on** (i.e. when `@compiled/babel-plugin-strip-runtime` is running), the output will become:

```tsx
/* app.tsx generated by @compiled/babel-plugin v0.0.0 */
import './app.compiled.css';
import * as React from 'react';
import { ax, ix } from '@compiled/react/runtime';
const someStyles = {
  danger: '_syaz5scu _bfhk5scu',
  success: '_syazbf54 _bfhkbf54',
};
function someFunctionCall(_obj) {}
export const bap = someFunctionCall({
  // node DOM constructor
  toDOM(node) {
    const { localId, state } = node.attrs;
    const attrs = {
      'data-task-local-id': localId || 'local-task',
      'data-task-state': state || 'TODO',
      class: ax([someStyles.base, state === 'DONE' && someStyles.done]),
    };
    // construct a div node
    return ['div', attrs, 0];
  },
});
```

```css
/* app.compiled.css */
._syaz5scu {
  color: red;
}
._bfhk5scu {
  background-color: red;
}
._syazbf54 {
  color: green;
}
._bfhkbf54 {
  background-color: green;
}
```

The styles from the `vanillaCss` will be extracted to an imported stylesheet `app.compiled.css`. This `app.compiled.css` stylesheet will be processed and merged into the main Compiled stylesheet `compiled-css.css` in your consumers' apps, as long as they have the Compiled Webpack or Parcel plugins set up.

`vanillaCss` will be replaced with `ax`: `ax` applies the correct class names to your component, ensuring that if a property is defined twice (e.g. `padding: 5px` then `padding: 10px`), then only the property defined last is applied to the component.

**Note that `extractStylesToDirectory` needs to be set up beforehand** -- see our documentation on [Platform stylesheet extraction](css-extraction-webpack#platform-stylesheet-extraction).

## Stylesheet extraction turned off

When stylesheet extraction is **turned off** (i.e. when `@compiled/babel-plugin-strip-runtime` is not running), the `vanillaCss` call and `someStyles` variable will be processed. The output will become:

```tsx
import * as React from 'react';
import { ax, ix, CC, CS, injectCompiledCss } from '@compiled/react/runtime';
const someStyles = {
  danger: '_syaz5scu _bfhk5scu',
  success: '_syazbf54 _bfhkbf54',
};
function someFunctionCall(_obj) {}
export const bap = someFunctionCall({
  toDOM(node) {
    const { localId, state } = node.attrs;
    injectCompiledCss([
      '._syaz5scu{color:red}',
      '._bfhk5scu{background-color:red}',
      '._syazbf54{color:green}',
      '._bfhkbf54{background-color:green}',
    ]);
    const attrs = {
      'data-task-local-id': localId || 'local-task',
      'data-task-state': state || 'TODO',
      class: ax([someStyles.base, state === 'DONE' && someStyles.done]),
    };
    return ['div', attrs, 0];
  },
});
```

`injectCompiledCss` will insert the CSS declarations into the `<head>` tag at runtime.

`vanillaCss` will be replaced with `ax`: `ax` applies the correct class names to your component, ensuring that if a property is defined twice (e.g. `padding: 5px` then `padding: 10px`), then only the property defined last is applied to the component.
